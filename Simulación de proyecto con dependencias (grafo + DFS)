#include <iostream>
#include <vector>
using namespace std;

bool dfs(int v, vector<vector<int>>& g, vector<int>& vis, vector<int>& rec){
    vis[v]=rec[v]=1;
    for(int u:g[v]){
        if(!vis[u] && dfs(u,g,vis,rec)) return true;
        else if(rec[u]) return true;
    }
    rec[v]=0;
    return false;
}

int main(){
    vector<vector<int>> proyecto={{1},{2},{3},{}}; // 0->1->2->3
    vector<int> vis(4,0), rec(4,0);
    bool ciclo=false;
    for(int i=0;i<4;i++)
        if(!vis[i] && dfs(i,proyecto,vis,rec)) ciclo=true;
    cout<<(ciclo?"Ciclo detectado":"Sin ciclos")<<endl;
    return 0;
}
